(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-191b8ef6"],{"28a5":function(t,e,a){"use strict";var n=a("aae3"),i=a("cb7c"),s=a("ebd6"),r=a("0390"),o=a("9def"),l=a("5f1b"),c=a("520a"),u=a("79e5"),g=Math.min,d=[].push,f="split",p="length",w="lastIndex",h=4294967295,b=!u(function(){RegExp(h,"y")});a("214f")("split",2,function(t,e,a,u){var m;return m="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(i,t,e);var s,r,o,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,f=void 0===e?h:e>>>0,b=new RegExp(t.source,u+"g");while(s=c.call(b,i)){if(r=b[w],r>g&&(l.push(i.slice(g,s.index)),s[p]>1&&s.index<i[p]&&d.apply(l,s.slice(1)),o=s[0][p],g=r,l[p]>=f))break;b[w]===s.index&&b[w]++}return g===i[p]?!o&&b.test("")||l.push(""):l.push(i.slice(g)),l[p]>f?l.slice(0,f):l}:"0"[f](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var i=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,i,n):m.call(String(i),a,n)},function(t,e){var n=u(m,t,this,e,m!==a);if(n.done)return n.value;var c=i(t),d=String(this),f=s(c,RegExp),p=c.unicode,w=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),y=new f(b?c:"^(?:"+c.source+")",w),v=void 0===e?h:e>>>0;if(0===v)return[];if(0===d.length)return null===l(y,d)?[d]:[];var C=0,D=0,T=[];while(D<d.length){y.lastIndex=b?D:0;var x,k=l(y,b?d:d.slice(D));if(null===k||(x=g(o(y.lastIndex+(b?0:D)),d.length))===C)D=r(d,D,p);else{if(T.push(d.slice(C,D)),T.length===v)return T;for(var _=1;_<=k.length-1;_++)if(T.push(k[_]),T.length===v)return T;D=C=x}}return T.push(d.slice(C)),T}]})},"4d26":function(t,e,a){"use strict";var n=a("d158"),i=a.n(n);i.a},7644:function(t,e,a){"use strict";var n=a("8ce8"),i=a.n(n);i.a},"8ce8":function(t,e,a){},d158:function(t,e,a){},e8a8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"className"},[a("el-card",{staticClass:"anoCard"},[a("el-form",{ref:"input-form",staticClass:"input-form",attrs:{model:t.newData,rules:t.rules,"label-position":"right","label-width":"150px"}},[a("el-form-item",{staticClass:"newTitle",attrs:{prop:"newTitle"}},[a("label",{staticClass:"label-text",attrs:{slot:"label"},slot:"label"},[t._v(" 新闻标题： ")]),a("el-input",{staticClass:"title-input",attrs:{maxlength:"50","show-word-limit":"",clearable:"",placeholder:"请输入新闻标题...",type:"text"},model:{value:t.newData.newTitle,callback:function(e){t.$set(t.newData,"newTitle",e)},expression:"newData.newTitle"}}),a("el-button",{staticClass:"my-button",attrs:{type:"primary",size:"small",loading:t.titleLoading},on:{click:function(e){return t.getTitleVoice()}}},[t._v("试听标题语音")])],1),a("el-form-item",{attrs:{prop:"newAbstract"}},[a("label",{staticClass:"label-text",attrs:{slot:"label"},slot:"label"},[t._v(" 新闻摘要： ")]),a("el-input",{staticClass:"abstract-input",attrs:{maxlength:"100","show-word-limit":"",clearable:"",placeholder:"请输入新闻摘要...",type:"textarea",rows:"3",resize:"none"},model:{value:t.newData.newAbstract,callback:function(e){t.$set(t.newData,"newAbstract",e)},expression:"newData.newAbstract"}}),a("el-button",{staticClass:"my-button",attrs:{type:"primary",size:"small",loading:t.abstractLoading},on:{click:function(e){return t.getAbstractVoice()}}},[t._v("试听摘要语音")])],1),a("el-form-item",{attrs:{prop:"newContent"}},[a("label",{staticClass:"label-text",attrs:{slot:"label"},slot:"label"},[t._v(" 新闻内容： ")]),a("el-input",{staticClass:"content-input",attrs:{"show-word-limit":"",clearable:"",placeholder:"请输入新闻内容...",type:"textarea",autosize:{minRows:6},resize:"none"},model:{value:t.newData.newContent,callback:function(e){t.$set(t.newData,"newContent",e)},expression:"newData.newContent"}}),a("el-button",{staticClass:"my-button",attrs:{type:"primary",size:"small",loading:t.contentLoading},on:{click:function(e){return t.getContentVoice()}}},[t._v("试听内容语音")])],1),a("el-form-item",{attrs:{prop:"category"}},[a("label",{staticClass:"label-text",attrs:{slot:"label"},slot:"label"},[t._v(" 所属分类： ")]),a("el-tag",{staticClass:"my-tags",staticStyle:{"margin-left":"1%"},attrs:{type:"success",effect:"dark"}},[t._v(t._s(t.newData.category.categoryName?t.newData.category.categoryName:"请获取"))]),a("el-button",{staticClass:"my-button",attrs:{type:"primary",size:"small",loading:t.categoryLoading},on:{click:function(e){return t.getTheCategory()}}},[t._v("获取所属分类")])],1),a("el-form-item",{attrs:{prop:"tags"}},[a("label",{staticClass:"label-text",attrs:{slot:"label"},slot:"label"},[t._v(" 所属标签： ")]),t._l(t.newData.tags,function(e,n){return a("el-tag",{staticClass:"my-tags",staticStyle:{"margin-left":"1%"},attrs:{type:"success",closable:"",effect:"dark"},on:{close:function(e){return t.removeTags(n)}}},[t._v(" "+t._s(e)+" ")])}),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 自定义标签")])],2),a("el-form-item",{attrs:{prop:"getTags"}},[a("label",{staticClass:"label-text",attrs:{slot:"label"},slot:"label"},[t._v(" 推荐标签： ")]),t._l(t.getTags,function(e,n){return a("el-tag",{staticClass:"my-tags",staticStyle:{"margin-left":"1%"},attrs:{type:"success",effect:"dark"},on:{click:function(e){return t.addTags(n)}}},[t._v(" "+t._s(e)+" ")])}),a("el-button",{staticClass:"my-button",attrs:{type:"primary",size:"small",loading:t.tagsLoading},on:{click:function(e){return t.getTheTags()}}},[t._v("识别推荐标签")])],2)],1),a("div",{staticClass:"submit-button"},[a("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.onSubmit()}}},[t._v("发布新闻")])],1)],1)],1)},i=[],s=(a("6762"),a("2fdb"),a("28a5"),a("f62d")),r={data:function(){return{titleLoading:!1,abstractLoading:!1,contentLoading:!1,categoryLoading:!1,tagsLoading:!1,inputVisible:!1,inputValue:"",getTags:[],newData:{newTitle:null,newAbstract:null,newContent:null,category:{categoryId:null,categoryName:null},tags:[]},rules:{newTitle:[{required:!0,message:"请输入文章标题...",trigger:"blur"},{max:50,message:"不能大于50个字符!",trigger:"blur"}],newAbstract:[{required:!0,message:"请输入文章摘要...",trigger:"blur"},{max:100,message:"不能大于100个字符!",trigger:"blur"}],newContent:[{required:!0,message:"请输入文章内容...",trigger:"blur"}]}}},created:function(){},filters:{},methods:{getTitleVoice:function(){var t=this;this.newData.newTitle?(this.titleLoading=!0,Object(s["g"])("文章标题："+this.newData.newTitle).then(function(e){t.audioRead(e.data.data.voice),t.titleLoading=!1})):this.$notify({title:"提示",message:"获取语音需要您先输入文字",iconClass:"el-icon-s-opportunity"})},getAbstractVoice:function(){var t=this;this.newData.newAbstract?(this.abstractLoading=!0,Object(s["g"])("文章摘要："+this.newData.newAbstract).then(function(e){t.audioRead(e.data.data.voice),t.abstractLoading=!1})):this.$notify({title:"提示",message:"获取语音需要您先输入文字",iconClass:"el-icon-s-opportunity"})},getContentVoice:function(){var t=this;this.newData.newContent?(this.contentLoading=!0,Object(s["g"])("文章内容："+this.newData.newContent).then(function(e){t.audioRead(e.data.data.voice),t.contentLoading=!1})):this.$notify({title:"提示",message:"获取语音需要您先输入文字",iconClass:"el-icon-s-opportunity"})},getTheCategory:function(){var t=this;this.newData.newContent?(this.categoryLoading=!0,Object(s["d"])(this.newData.newContent.split().join("")).then(function(e){t.newData.category=e.data.data,t.categoryLoading=!1})):this.$notify({title:"提示",message:"获取分类需要您先输入新闻内容",iconClass:"el-icon-s-opportunity"})},getTheTags:function(){var t=this;if(this.newData.newTitle||this.newData.newContent||this.newData.newAbstract){this.tagsLoading=!0;var e=(this.newData.newTitle+this.newData.newAbstract+this.newData.newContent).split().join("");Object(s["f"])(e).then(function(e){t.getTags=e.data.data.tags,t.tagsLoading=!1})}else this.$notify({title:"提示",message:"获取标签需要您先输入文字",iconClass:"el-icon-s-opportunity"})},addTags:function(t){this.newData.tags.includes(this.getTags[t])||this.newData.tags.push(this.getTags[t])},removeTags:function(t){this.newData.tags.splice(t,1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){this.inputValue&&this.newData.tags.push(this.inputValue),this.inputVisible=!1,this.inputValue=""},onSubmit:function(){if(this.newData.category)if(0!==this.newData.tags.length){for(var t=0;t<this.getTags.length;t++)this.newData.tags.includes(this.getTags[t])||this.newData.tags.push(this.getTags[t]);var e=this;this.$refs["input-form"].validate(function(t){if(!t)return!1;Object(s["a"])(e.newData).then(function(t){e.$notify({title:"提示",message:"发布成功！",iconClass:"el-icon-s-opportunity"})}),e.$refs["input-form"].resetFields(),e.getTags=[]})}else this.$notify({title:"提示",message:"请设置文章标签后再发布文章",iconClass:"el-icon-s-opportunity"});else this.$notify({title:"提示",message:"请获取所属分类后再发布文章",iconClass:"el-icon-s-opportunity"})}}},o=r,l=(a("7644"),a("4d26"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,"594d4f96",null);e["default"]=c.exports},f62d:function(t,e,a){"use strict";a.d(e,"g",function(){return o}),a.d(e,"d",function(){return l}),a.d(e,"f",function(){return c}),a.d(e,"a",function(){return u}),a.d(e,"c",function(){return g}),a.d(e,"b",function(){return d}),a.d(e,"h",function(){return f}),a.d(e,"e",function(){return p});var n=a("bc3a"),i=a.n(n),s=a("2b0e"),r=i.a.create({timeout:3e4,baseURL:"http://36.134.148.183:38888/api"});function o(t){var e="/text2voice";return r.post(e,{text:t})}function l(t){var e="/text2category";return r.post(e,{text:t})}function c(t){var e="/text2tags";return r.post(e,{text:t})}function u(t){console.log(s["default"].prototype.$writerId);var e="/addNews";return r.post(e,{writerId:s["default"].prototype.$writerId,newTitle:t.newTitle,newAbstract:t.newAbstract,newContent:t.newContent,categoryId:t.category.categoryId,tags:t.tags})}function g(){var t="/authorPreview";return r.post(t,{writerId:s["default"].prototype.$writerId})}function d(t,e){var a="/authorArticles";return r.post(a,{writerId:s["default"].prototype.$writerId,pageNumber:t,pageSize:e})}function f(t){var e="/authorLogin";return r.post(e,{writerAccount:t.writerAccount,writerPassword:t.writerPassword})}function p(){var t="/authorMonthData";return r.post(t,{writerId:s["default"].prototype.$writerId})}}}]);